# ControlEO - Система контролю за наказами

## Про проект
Система контролю за наказами (ControlEO) - це веб-додаток для моніторингу та управління відвідуваністю, розроблений як курсова робота з предмету "Організація баз даних та знань".

### Автор
- **ПІБ:** Строй Богдан Володимирович
- **Група:** 121-24-2
- **Email:** stroi.b.v@nmu.one

## Мета проекту
Основна мета системи - забезпечити ефективний контроль наказів(замовлень) та автоматизувати пов'язані з цим процеси. Система дозволяє:
- Вести облік наказів
- Керувати інформацією про відділи та працівників
- Створювати та контролювати розпорядження
- Генерувати звіти про відвідуваність

## Компоненти системи

### Технічний стек
- **Backend:** PHP 8.4
- **Шаблонізатор:** Smarty 4.4
- **База даних:** MySQL 8.4
- **Автозавантаження:** PSR-4 через Composer

### Структура проекту
```
app/
  Controllers/       - Контролери системи (MVC)
  Models/            - Моделі даних
  Views/templates/   - Шаблони відображення
config/              - Файли конфігурації
public/              - Публічні файли (точка входу в систему)
routes/              - Налаштування маршрутизації
storage/             - Місце для зберігання кешу та скомпільованих шаблонів
vendor/              - Залежності Composer
```

## Встановлення проекту

### Варіант 1: Встановлення через OSPanel (рекомендовано)

#### Крок 1: Встановлення OSPanel
1. Завантажте OSPanel з офіційного сайту: [https://ospanel.io/download/](https://ospanel.io/download/)
2. Виберіть потрібну для вас версію (Компактну або Повну) та розпакуйте архів
3. Запустіть файл `Open Server.exe`
4. Після запуску Ви побачите іконку в треї, натисніть правою кнопкою миші та виберіть "Налаштування"
5. У вкладці "Модулі" переконайтеся, що вибрано:
   - PHP: 8.4

#### Крок 2: Налаштування проекту в OSPanel
1. Скопіюйте файли проекту в директорію `OSPanel\home\controleo.local\`
2. Перезапустіть OSPanel

#### Крок 3: Встановлення залежностей через Composer
1. У OSPanel перейдіть до "controleo.local -> Консоль"
2. Встановіть залежності:
```bash
composer install
```
#### Крок 4: Налаштування бази даних
1. У OSPanel відкрийте меню "Модулі" → "MySQL" → "MySQL-8.4" → "Увімкнути"
2. Далі перейдіть до "MySQL-8.4" → "Запустити Shell"
3. Виконайте наступні SQL команди для налаштування доступу користувача:
```sql
DROP USER IF EXISTS 'root'@'%';
CREATE USER 'root'@'%' IDENTIFIED BY 'root';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES;
```

#### Крок 5: Імпорт даних
1. Перезапустіть OSPanel
2. Відкрийте у браузері адресу: `http://controleo.local/adminer.php`
3. Знайдіть IP-адресу хостингу:
    - Перейдіть до "Налаштування" → "Програма" → "Налаштування API"
    - Скопіюйте IP-адресу (зазвичай 127.127.126.11, але може відрізнятися)
4. Авторизуйтеся в Adminer з наступними параметрами:
    - Система: MySQL/MariaDB
    - Сервер: [IP-адреса хостингу]
    - Користувач: root
    - Пароль: root
    - База даних: (залиште порожнім)
5. Імпортуйте структуру бази даних:
    - Спочатку імпортуйте файл `database.sql`
    - Потім імпортуйте файл `kursrrab.sql`

#### Крок 6: Фінальне налаштування та запуск
1. За необхідності відредагуйте файл `config/config.ini` для конфігурації підключення до бази даних
2. Переконайтеся, що OSPanel запущений і активний
3. Відкрийте у браузері адресу: `http://controleo.local/`

### Варіант 2: Встановлення компонентів окремо (більше мороки, використовуйте якщо не бажаєте встановлювати OSPanel)

#### Крок 1: Встановлення PHP
1. Завантажте PHP для Windows з [офіційного сайту](https://windows.php.net/download/)
2. Виберіть версію PHP 8.4 (або найновішу доступну) і завантажте архів zip
3. Розпакуйте архів у директорію (наприклад, `C:\php`)
4. Створіть копію файлу `php.ini-development` з назвою `php.ini`
5. Відкрийте `php.ini` та активуйте необхідні розширення, розкоментувавши наступні рядки:
   ```
   extension=mysqli
   extension=pdo_mysql
   ```
6. Додайте шлях до PHP у змінну середовища PATH:
   - Відкрийте "Система" -> "Додаткові параметри системи" -> "Змінні середовища"
   - В розділі "Системні змінні" знайдіть змінну "Path" і натисніть "Редагувати"
   - Додайте шлях до директорії PHP (наприклад, `C:\php`)

#### Крок 2: Встановлення MySQL
1. Завантажте MySQL Community Server з [офіційного сайту](https://dev.mysql.com/downloads/mysql/)
2. Запустіть інсталятор і дотримуйтесь інструкцій майстра встановлення
3. В процесі встановлення задайте пароль для користувача root
4. Після встановлення запустіть MySQL Command Line Client
5. Створіть базу даних для проекту:
   ```sql
   CREATE DATABASE ControlEO;
   ```
6. Імпортуйте структуру бази даних:
   ```bash
   mysql -u root -p ControlEO < шлях\до\проекту\database.sql
   ```

#### Крок 3: Встановлення Composer
1. Завантажте інсталятор Composer для Windows з [офіційного сайту](https://getcomposer.org/download/)
2. Запустіть завантажений файл `Composer-Setup.exe`
3. Дотримуйтесь інструкцій майстра встановлення
4. Переконайтеся, що шлях до PHP вказано правильно

#### Крок 4: Встановлення залежностей проекту
1. Відкрийте командний рядок
2. Перейдіть до директорії проекту:
   ```bash
   cd шлях\до\проекту
   ```
3. Встановіть залежності:
   ```bash
   composer install
   ```

#### Крок 5: Налаштування веб-сервера (Apache або Nginx)

##### Для Apache:
1. Завантажте Apache для Windows з [Apache Lounge](https://www.apachelounge.com/download/)
2. Розпакуйте архів у директорію (наприклад, `C:\Apache24`)
3. Відкрийте файл `C:\Apache24\conf\httpd.conf`:
   - Переконайтеся, що підключено модулі `mod_rewrite` і `mod_php`
   - Додайте віртуальний хост:
     ```apache
     <VirtualHost *:80>
         ServerName controleo.local
         DocumentRoot "шлях\до\проекту\public"
         <Directory "шлях\до\проекту\public">
             Options Indexes FollowSymLinks
             AllowOverride All
             Require all granted
         </Directory>
     </VirtualHost>
     ```
4. Додайте запис у файл hosts:
   - Відкрийте від адміністратора файл `C:\Windows\System32\drivers\etc\hosts`
   - Додайте рядок: `127.0.0.1 controleo.local`
5. Запустіть Apache з командного рядка адміністратора:
   ```bash
   C:\Apache24\bin\httpd.exe
   ```

#### Крок 6: Налаштування проекту
1. Відредагуйте файл `config/config.ini` для налаштування підключення до бази даних:
   ```ini
   [database]
   host = localhost
   dbname = ControlEO
   username = root
   password = root
   ```
2. Переконайтеся, що директорії мають права на запис:
   - `storage/smarty/templates_c/`
   - `storage/smarty/cache/`

#### Крок 7: Запуск проекту
Відкрийте у браузері адресу:
- Якщо налаштували віртуальний хост: `http://controleo.local/`
- Або через вбудований сервер PHP:
  ```bash
  cd шлях\до\проекту
  php -S localhost:8000 -t public
  ```
  Потім відкрийте: `http://localhost:8000/`



## Авторські права

© 2025 Строй Богдан Володимирович.

Дана робота є авторською курсовою роботою, розробленою для НТУ "Дніпровська політехніка".

Будь-яке використання, копіювання, відтворення, модифікація, розповсюдження або публікація матеріалів даної роботи без попереднього письмового дозволу автора заборонено, за винятком використання в освітніх цілях згідно з правилами академічної доброчесності та з обов'язковим посиланням на автора.

Несанкціоноване використання цих матеріалів є порушенням законодавства про авторське право і може призвести до відповідальності згідно чинного законодавства.